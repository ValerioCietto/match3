<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Vertical Scroll Shooter</title>
<style>
  :root{
    --controls-h: 64px; /* >= 50px */
    --bg: #0b0e13;
    --ink: #e6e6e6;
    --accent: #35c3ff;
  }
  * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
  html, body { height: 100%; margin: 0; background: var(--bg); color: var(--ink); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans"; }
  body { display: flex; flex-direction: column; overflow: hidden; }

  .topbar{
    position: fixed; inset: env(safe-area-inset-top) 0 auto 0;
    height: 44px; display: flex; align-items: center; justify-content: flex-end;
    padding: 0 12px calc(env(safe-area-inset-top));
    pointer-events: none; z-index: 5;
  }
  .topbar a.upgrades {
    pointer-events: auto;
    text-decoration: none; background: rgba(255,255,255,0.08);
    padding: 6px 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.15);
    font-size: 14px;
  }
  .hud {
    position: fixed; left: 10px; top: 10px; z-index: 5; font-size: 14px; opacity: 0.9;
    padding: 6px 8px; background: rgba(0,0,0,0.25); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12);
  }
  #wrap { flex: 1; position: relative; }
  canvas { position: absolute; inset: 0; width: 100vw; height: calc(100dvh - var(--controls-h)); touch-action: none; display: block; }

  .controls {
    height: var(--controls-h);
    width: 100vw;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 8px;
    padding: 8px 10px calc(8px + env(safe-area-inset-bottom));
    background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.35));
    backdrop-filter: blur(1px);
    transform: translateY(-40px);
  }
  .btn {
    min-height: 50px;
    padding-left: 25px;
    padding-right: 25px;
    margin-left: 10px;
    margin-right: 10px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.18);
    background: rgba(255,255,255,0.06);
    color: var(--ink);
    font-weight: 600; font-size: 16px;
    display: flex; align-items: center; justify-content: center;
    user-select: none;
  }
  .btn:active { transform: scale(0.98); }
  .col { display: flex; gap: 8px; }
  .col.left { justify-content: flex-start; }
  .col.center { justify-content: center; }
  .col.right { justify-content: flex-end; }

  /* Spazio riservato ai due pulsanti centrali nascosti */
  .ghost-spot {
    width: 46%;
    min-height: 50px;
    border-radius: 14px;
    border: 1px dashed rgba(255,255,255,0.12);
    background: rgba(255,255,255,0.02);
    visibility: hidden;
  }
  .hidden-btn { display: none; }
</style>
</head>
<body>
  <div class="topbar">
    <a class="upgrades" href="/match3/shooter/upgrades.html">Potenziamenti â†—</a>
  </div>

  <div class="hud" id="hud">Â§0 â€¢ 0:00</div>

  <div id="wrap">
    <canvas id="game"></canvas>
  </div>

  <div class="controls" id="controls">
    <div class="col left">
      <div class="btn" id="btnLeft">âŸµ</div>
    </div>
    <div class="col center">
      <div class="ghost-spot"></div>
      <div class="btn hidden-btn" id="btnBomb">ðŸ’£ BOMBA</div>
    </div>
    <div class="col right">
      <div class="btn" id="btnRight">âŸ¶</div>
    </div>
  </div>

  <!-- JS esterno con tutta la logica di gioco -->
  <script src="/match3/shooter/game.js" defer></script>
</body>
</html>
